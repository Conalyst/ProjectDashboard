import { BaseRepository } from "../contracts/BaseRepository"
// import  {CompanyAssetEntity as Asset}  from "../db/models/ComanyAsset"
// import {AssetEntity} from '../db/models/Asset'
import { Model } from "sequelize-typescript";
import db from '../db/models'
const Vulnerability = require("../db/models")

export class VulnerabilityRepository {
    constructor(){
         
    }
  
    public async Get(){
      let vulnerabilities  = await db.Vulnerability.findAll();
      return vulnerabilities;
    }  

    public async GetById(id:number){
      return db.Vulnerability.findByPk(id);    
    }   
    
    async GetVulnerabilityByTitle(title: string){

      const vulnerability = await db.Vulnerability.findOne({
           where: {title: `${title}`}
       })
       return vulnerability;
    } 
    
    public async Create(model: Model<typeof Vulnerability>){
      return db.Vulnerability.create(model['dataValues']);
    }
}