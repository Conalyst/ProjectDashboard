import express from 'express'
import  {VulnerabilityRepository } from '../Infrastructure/repositories/VulnerabilityRepository'

export class VulnerabilityApi{
    private _VulnerabilityRepository:any;

    constructor(){    
        this._VulnerabilityRepository = new VulnerabilityRepository();
    }
    
    async getAllVulnerabilities(req: express.Request, res: express.Response){
      let vulnerabilityList = await this._VulnerabilityRepository.Get();
      // console.log("Helllllo")
      return  res.status(200).json(vulnerabilityList);
    };

    async getVulnerabilityById(req: express.Request, res: express.Response){
      let vulnerabilityId = req.params.id;
      console.log(vulnerabilityId)
      let vulnerability = await this._VulnerabilityRepository.GetById(vulnerabilityId);
      return  res.status(200).json(vulnerability);
    };
}